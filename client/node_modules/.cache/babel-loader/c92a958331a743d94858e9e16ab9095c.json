{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Colby\\\\Documents\\\\school\\\\Semester 3\\\\Sprints\\\\Sprint Three\\\\Project One\\\\contact-book\\\\client\\\\src\\\\components\\\\pages\\\\RegisterPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction RegisterPage({\n  history\n}) {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    if (localStorage.getItem(\"authToken\")) {\n      history.push(\"/\");\n    }\n  }, [history]);\n\n  const registerHandler = async e => {\n    e.preventDefault();\n    const config = {\n      header: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n\n    if (password !== confirmPassword) {\n      setPassword(\"\");\n      setConfirmPassword(\"\");\n      setTimeout(() => {\n        setError(\"\");\n      }, 5000);\n      return setError(\"Passwords do not match.\");\n    }\n\n    try {\n      const {\n        data\n      } = await axios.post(\"/api/auth/register\", {\n        username,\n        email,\n        password,\n        config\n      });\n      localStorage.setItem(\"authToken\", data.token);\n      history.push(\"/\");\n    } catch (err) {\n      setError(error.response.data.error);\n      setTimeout(() => {\n        setError(\"\");\n      }, 5000);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: registerHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this), error && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"username\",\n        value: username,\n        onChange: e => setUsername(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"email\",\n        value: email,\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"confirmPassword\",\n        value: confirmPassword,\n        onChange: e => setConfirmPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\" Already have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"login\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 49\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n\n_s(RegisterPage, \"YzaRAop/Ucqnv2FikZY7izlEvXE=\");\n\n_c = RegisterPage;\nexport default RegisterPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterPage\");","map":{"version":3,"sources":["C:/Users/Colby/Documents/school/Semester 3/Sprints/Sprint Three/Project One/contact-book/client/src/components/pages/RegisterPage.js"],"names":["React","useState","useEffect","axios","Link","Button","RegisterPage","history","username","setUsername","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","error","setError","localStorage","getItem","push","registerHandler","e","preventDefault","config","header","setTimeout","data","post","setItem","token","err","response","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAwBC,SAAxB,QAAwC,OAAxC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAAQC,MAAR,QAAqB,iBAArB;;;AAEA,SAASC,YAAT,CAAsB;AAAEC,EAAAA;AAAF,CAAtB,EAAmC;AAAA;;AAC/B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACW,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACa,eAAD,EAAkBC,kBAAlB,IAAwCd,QAAQ,CAAC,EAAD,CAAtD;AAEA,QAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,EAAD,CAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAK;AACX,QAAGgB,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAH,EAAsC;AAClCZ,MAAAA,OAAO,CAACa,IAAR,CAAa,GAAb;AACH;AACJ,GAJQ,EAIN,CAACb,OAAD,CAJM,CAAT;;AAMA,QAAMc,eAAe,GAAG,MAAOC,CAAP,IAAa;AACjCA,IAAAA,CAAC,CAACC,cAAF;AAEA,UAAMC,MAAM,GAAG;AACXC,MAAAA,MAAM,EAAE;AACJ,wBAAgB;AADZ;AADG,KAAf;;AAMA,QAAGb,QAAQ,KAAKE,eAAhB,EAAgC;AAC5BD,MAAAA,WAAW,CAAC,EAAD,CAAX;AACAE,MAAAA,kBAAkB,CAAC,EAAD,CAAlB;AACAW,MAAAA,UAAU,CAAC,MAAK;AACZT,QAAAA,QAAQ,CAAC,EAAD,CAAR;AACH,OAFS,EAEP,IAFO,CAAV;AAGA,aAAOA,QAAQ,CAAC,yBAAD,CAAf;AACH;;AACD,QAAI;AACA,YAAM;AAAEU,QAAAA;AAAF,UAAW,MAAMxB,KAAK,CAACyB,IAAN,CAAW,oBAAX,EAAiC;AAACpB,QAAAA,QAAD;AAAWE,QAAAA,KAAX;AAAkBE,QAAAA,QAAlB;AAA4BY,QAAAA;AAA5B,OAAjC,CAAvB;AACAN,MAAAA,YAAY,CAACW,OAAb,CAAqB,WAArB,EAAkCF,IAAI,CAACG,KAAvC;AACAvB,MAAAA,OAAO,CAACa,IAAR,CAAa,GAAb;AACH,KAJD,CAIE,OAAOW,GAAP,EAAY;AACVd,MAAAA,QAAQ,CAACD,KAAK,CAACgB,QAAN,CAAeL,IAAf,CAAoBX,KAArB,CAAR;AACAU,MAAAA,UAAU,CAAC,MAAI;AACXT,QAAAA,QAAQ,CAAC,EAAD,CAAR;AACH,OAFS,EAEP,IAFO,CAAV;AAGH;AACJ,GA3BD;;AA6BA,sBACI;AAAA,2BAEI;AAAM,MAAA,QAAQ,EAAEI,eAAhB;AAAA,8BACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,EAECL,KAAK,iBAAI;AAAA,kBAAOA;AAAP;AAAA;AAAA;AAAA;AAAA,cAFV,eAGI;AAAO,QAAA,WAAW,EAAC,UAAnB;AAA8B,QAAA,KAAK,EAAER,QAArC;AAA+C,QAAA,QAAQ,EAAGc,CAAD,IAAMb,WAAW,CAACa,CAAC,CAACW,MAAF,CAASC,KAAV;AAA1E;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAO,QAAA,WAAW,EAAC,OAAnB;AAA2B,QAAA,KAAK,EAAExB,KAAlC;AAAyC,QAAA,QAAQ,EAAGY,CAAD,IAAMX,QAAQ,CAACW,CAAC,CAACW,MAAF,CAASC,KAAV;AAAjE;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI;AAAO,QAAA,WAAW,EAAC,UAAnB;AAA8B,QAAA,KAAK,EAAEtB,QAArC;AAA+C,QAAA,QAAQ,EAAGU,CAAD,IAAMT,WAAW,CAACS,CAAC,CAACW,MAAF,CAASC,KAAV;AAA1E;AAAA;AAAA;AAAA;AAAA,cALJ,eAMI;AAAO,QAAA,WAAW,EAAC,iBAAnB;AAAsC,QAAA,KAAK,EAAEpB,eAA7C;AAA8D,QAAA,QAAQ,EAAGQ,CAAD,IAAMP,kBAAkB,CAACO,CAAC,CAACW,MAAF,CAASC,KAAV;AAAhG;AAAA;AAAA;AAAA;AAAA,cANJ,eAOI,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPJ,eASI;AAAA,8DAAgC,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA,cATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAgBH;;GA3DQ5B,Y;;KAAAA,Y;AA6DT,eAAeA,YAAf","sourcesContent":["import React,{useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport { Link } from 'react-router-dom'\r\nimport {Button} from 'react-bootstrap'\r\n\r\nfunction RegisterPage({ history }) {\r\n    const [username, setUsername] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [confirmPassword, setConfirmPassword] = useState(\"\")\r\n\r\n    const [error, setError] = useState(\"\")\r\n\r\n    useEffect(()=> {\r\n        if(localStorage.getItem(\"authToken\")) {\r\n            history.push(\"/\")\r\n        }\r\n    }, [history])\r\n\r\n    const registerHandler = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const config = {\r\n            header: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        }\r\n\r\n        if(password !== confirmPassword){\r\n            setPassword(\"\");\r\n            setConfirmPassword(\"\");\r\n            setTimeout(()=> {\r\n                setError(\"\")\r\n            }, 5000)\r\n            return setError(\"Passwords do not match.\")\r\n        }\r\n        try {\r\n            const { data } = await axios.post(\"/api/auth/register\", {username, email, password, config})\r\n            localStorage.setItem(\"authToken\", data.token)\r\n            history.push(\"/\")\r\n        } catch (err) {\r\n            setError(error.response.data.error)\r\n            setTimeout(()=>{\r\n                setError(\"\")\r\n            }, 5000)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            \r\n            <form onSubmit={registerHandler}>\r\n            <h1>Register</h1>\r\n            {error && <span>{error}</span>}\r\n                <input placeholder=\"username\" value={username} onChange={(e)=> setUsername(e.target.value)}/>\r\n                <input placeholder=\"email\" value={email} onChange={(e)=> setEmail(e.target.value)}/>\r\n                <input placeholder=\"password\" value={password} onChange={(e)=> setPassword(e.target.value)}/>\r\n                <input placeholder=\"confirmPassword\"  value={confirmPassword} onChange={(e)=> setConfirmPassword(e.target.value)}/>\r\n                <Button type=\"submit\" >Submit</Button>\r\n\r\n                <span> Already have an account? <Link to=\"login\">Login</Link></span>\r\n            </form>            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RegisterPage\r\n"]},"metadata":{},"sourceType":"module"}