{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Colby\\\\Documents\\\\school\\\\Semester 4\\\\Sprint 2\\\\searchengine\\\\client\\\\src\\\\components\\\\page components\\\\AddContact.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Form, Button, Card, Dropdown, DropdownButton } from \"react-bootstrap\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport axios from 'axios'; // Modal Styling\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  }\n}));\n\nfunction AddContact({\n  open,\n  close\n}) {\n  _s();\n\n  // importing styles\n  const classes = useStyles(); // check if database is selected\n\n  const [database, setDatabase] = useState(\"Database\"); // save length of all id's so theres no overlap ids\n\n  const [id, setLength] = useState(); // usestates for saving adding user input from form\n\n  const [firstname, setFirstname] = useState(\"\");\n  const [lastname, setLastname] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [company, setCompany] = useState(\"\");\n  const [department, setDepartment] = useState(\"\");\n  const [jobTitle, setJobTitle] = useState(\"\");\n\n  const getAllContactsLength = async () => {\n    // saving headers \n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        // important for allowing user to fetch\n        Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\n      }\n    }; // two post requests for both databases to get every item in each database\n\n    await axios.all([axios.post(\"/api/private/search/postgresql\", {\n      searchTerm: \"\",\n      searchQuery: \"firstname\"\n    }, config), axios.post(\"/api/private/search/mongodb\", {\n      searchTerm: \"\",\n      searchQuery: \"firstname\"\n    }, config)]).then(axios.spread((data1, data2) => {\n      // combines both array's\n      Array.prototype.push.apply(data1.data.rows, data2.data); // sets the length of both arrays\n\n      setLength(data1.data.rows.length);\n    }));\n  }; // on run get all contacts length\n\n\n  useEffect(() => {\n    getAllContactsLength();\n  }, []);\n\n  const addContactFunc = async () => {\n    // if no database is selected dont run the fetch request\n    if (database === \"Database\") {\n      alert(\"No database selected\");\n    } else {\n      // post request to add contact to database\n      let addContact = await axios({\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\n        },\n        url: \"http://localhost:5000/api/private/add/contact\",\n        data: {\n          database: database,\n          id: id + 1,\n          firstname: firstname,\n          lastname: lastname,\n          email: email,\n          phone: phone,\n          company: company,\n          department: department,\n          jobtitle: jobTitle\n        }\n      }); // if post request is successful go back to home page.\n\n      if (addContact === \"INSERT\") {\n        window.location = \"/\";\n      } else {// do nothing\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      \"aria-labelledby\": \"transition-modal-title\",\n      \"aria-describedby\": \"transition-modal-description\",\n      className: classes.modal,\n      open: open,\n      onClose: close,\n      closeAfterTransition: true,\n      BackdropComponent: Backdrop,\n      BackdropProps: {\n        timeout: 500\n      },\n      children: /*#__PURE__*/_jsxDEV(Fade, {\n        in: open,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            width: \"35%\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-center mb-4\",\n              children: \"Add Contact\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Form, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                id: \"firstname\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"First Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  onChange: e => setFirstname(e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                id: \"lastname\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Last Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  onChange: e => setLastname(e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                id: \"email\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  onChange: e => setEmail(e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                id: \"phone\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  onChange: e => setPhone(e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                id: \"company\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Employer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  onChange: e => setCompany(e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                id: \"department\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Department\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  onChange: e => setDepartment(e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                id: \"jobtitle\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Job Title\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  onChange: e => setJobTitle(e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(DropdownButton, {\n                variant: \"outline-secondary\",\n                title: database,\n                id: \"input-group-dropdown-1\",\n                children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  href: \"#\",\n                  onClick: () => setDatabase(\"PostgreSQL\"),\n                  children: \"PostgreSQL\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  href: \"#\",\n                  onClick: () => setDatabase(\"MongoDB\"),\n                  children: \"MongoDB\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                className: \"w-100 mt-3\",\n                onClick: addContactFunc,\n                children: \"Add Contact\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                className: \"w-100 mt-3\",\n                onClick: close,\n                children: \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddContact, \"fYYHQGIuNp2YIGvjK+jboobJ9Hs=\", false, function () {\n  return [useStyles];\n});\n\n_c = AddContact;\nexport default AddContact;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddContact\");","map":{"version":3,"sources":["C:/Users/Colby/Documents/school/Semester 4/Sprint 2/searchengine/client/src/components/page components/AddContact.js"],"names":["React","useState","useEffect","Form","Button","Card","Dropdown","DropdownButton","makeStyles","Modal","Backdrop","Fade","axios","useStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","AddContact","open","close","classes","database","setDatabase","id","setLength","firstname","setFirstname","lastname","setLastname","email","setEmail","phone","setPhone","company","setCompany","department","setDepartment","jobTitle","setJobTitle","getAllContactsLength","config","headers","Authorization","localStorage","getItem","all","post","searchTerm","searchQuery","then","spread","data1","data2","Array","prototype","push","apply","data","rows","length","addContactFunc","alert","addContact","method","url","jobtitle","window","location","timeout","width","e","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport { Form, Button, Card, Dropdown, DropdownButton} from \"react-bootstrap\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport axios from 'axios';\r\n\r\n// Modal Styling\r\nconst useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    paper: {\r\n      backgroundColor: theme.palette.background.paper,\r\n      border: '2px solid #000',\r\n      boxShadow: theme.shadows[5],\r\n      padding: theme.spacing(2, 4, 3),\r\n    },\r\n  }));\r\n\r\nfunction AddContact({open, close}) {\r\n  // importing styles\r\n    const classes = useStyles();\r\n  // check if database is selected\r\n    const [database, setDatabase] = useState(\"Database\")\r\n  // save length of all id's so theres no overlap ids\r\n    const [id, setLength] = useState()\r\n  // usestates for saving adding user input from form\r\n    const [firstname, setFirstname] = useState(\"\")\r\n    const [lastname, setLastname] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const [phone, setPhone] = useState(\"\")\r\n    const [company, setCompany] = useState(\"\")\r\n    const [department, setDepartment] = useState(\"\")\r\n    const [jobTitle, setJobTitle] = useState(\"\")\r\n\r\n    const getAllContactsLength = async () => {\r\n      // saving headers \r\n        const config = {\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                // important for allowing user to fetch\r\n                Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\r\n            }\r\n        }\r\n        // two post requests for both databases to get every item in each database\r\n            await axios.all([\r\n                axios.post(\"/api/private/search/postgresql\", {\r\n                        searchTerm: \"\",\r\n                        searchQuery: \"firstname\"\r\n                    }, config),\r\n                axios.post(\"/api/private/search/mongodb\", {\r\n                        searchTerm: \"\",\r\n                        searchQuery: \"firstname\"\r\n                    }, config),\r\n            ]).then(axios.spread((data1, data2)=> {\r\n                // combines both array's\r\n                Array.prototype.push.apply(data1.data.rows, data2.data);\r\n                // sets the length of both arrays\r\n                setLength(data1.data.rows.length)\r\n            }))\r\n    }\r\n    // on run get all contacts length\r\n    useEffect(()=> {\r\n        getAllContactsLength()\r\n    },[])\r\n\r\n    const addContactFunc = async () => {\r\n      // if no database is selected dont run the fetch request\r\n        if (database === \"Database\") {\r\n            alert(\"No database selected\")\r\n        } else {\r\n          // post request to add contact to database\r\n            let addContact = await axios({\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\r\n                },\r\n                url: \"http://localhost:5000/api/private/add/contact\",\r\n                data: {\r\n                    database: database,\r\n                    id: id + 1,\r\n                    firstname: firstname,\r\n                    lastname: lastname,\r\n                    email: email,\r\n                    phone: phone,\r\n                    company: company,\r\n                    department: department,\r\n                    jobtitle: jobTitle\r\n                }\r\n            })\r\n            // if post request is successful go back to home page.\r\n            if (addContact === \"INSERT\"){\r\n                window.location = \"/\"\r\n            } else {\r\n                // do nothing\r\n            }\r\n\r\n        }\r\n        \r\n    }\r\n\r\n    return (\r\n    <div>\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={open}\r\n        onClose={close}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        {/* Modal Fade in */}\r\n        <Fade in={open}>\r\n        <Card style={{width: \"35%\"}}>\r\n        <Card.Body>\r\n          {/* Title on top of Modal */}\r\n          <h2 className=\"text-center mb-4\">Add Contact</h2>\r\n          <Form >\r\n            {/************** FIRST NAME INPUT **************/}\r\n            <Form.Group id=\"firstname\">\r\n              <Form.Label>First Name</Form.Label>\r\n              <Form.Control onChange={(e)=> setFirstname(e.target.value)} required/>\r\n            </Form.Group>\r\n            {/************** LAST NAME INPUT **************/}              \r\n            <Form.Group id=\"lastname\">\r\n              <Form.Label>Last Name</Form.Label>\r\n              <Form.Control onChange={(e)=> setLastname(e.target.value)} required/>\r\n            </Form.Group>\r\n            {/************** EMAIL INPUT **************/}\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control onChange={(e)=> setEmail(e.target.value)} required/>\r\n            </Form.Group>\r\n            {/************** PHONE INPUT **************/}\r\n            <Form.Group id=\"phone\">\r\n              <Form.Label>Phone</Form.Label><br></br>\r\n              <Form.Control onChange={(e)=> setPhone(e.target.value)} required/>\r\n            </Form.Group>\r\n            {/************** COMPANY INPUT **************/}\r\n            <Form.Group id=\"company\">\r\n              <Form.Label>Employer</Form.Label>\r\n              <Form.Control onChange={(e)=> setCompany(e.target.value)} required/>\r\n            </Form.Group>\r\n            {/************** DEPARTMENT INPUT **************/}\r\n            <Form.Group id=\"department\">\r\n              <Form.Label>Department</Form.Label>\r\n              <Form.Control onChange={(e)=> setDepartment(e.target.value)} required/>\r\n            </Form.Group>\r\n            {/************** JOBTITLE INPUT **************/}\r\n            <Form.Group id=\"jobtitle\">\r\n              <Form.Label>Job Title</Form.Label>\r\n              <Form.Control onChange={(e)=> setJobTitle(e.target.value)} required/>\r\n            </Form.Group>\r\n            {/************** CHOOSE DATABASE INPUT **************/}\r\n            <DropdownButton\r\n            variant=\"outline-secondary\"\r\n            title={database}\r\n            id=\"input-group-dropdown-1\"\r\n            >\r\n            <Dropdown.Item href=\"#\" onClick={() => setDatabase(\"PostgreSQL\")}>PostgreSQL</Dropdown.Item>\r\n            <Dropdown.Item href=\"#\" onClick={() => setDatabase(\"MongoDB\")}>MongoDB</Dropdown.Item>\r\n            </DropdownButton>\r\n            {/************** BUTTONS **************/}\r\n            <Button className=\"w-100 mt-3\" onClick={addContactFunc}>\r\n              Add Contact\r\n            </Button>\r\n            <Button className=\"w-100 mt-3\" onClick={close}>\r\n              Close\r\n            </Button>\r\n          </Form>\r\n        </Card.Body>\r\n      </Card>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default AddContact\r\n"]},"metadata":{},"sourceType":"module"}